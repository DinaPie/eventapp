<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/MainLayout}">
<style>
  .modal {
    display: block; /* Show by default if success exists */
    position: fixed;
    z-index: 9999;
    padding-top: 100px;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0,0,0,0.5);
  }

  .modal-content {
    background-color: #fefefe;
    margin: auto;
    padding: 30px;
    border: 1px solid #888;
    width: 50%;
    border-radius: 10px;
    text-align: center;
    position: relative;
  }

  .close {
    color: #aaa;
    position: absolute;
    right: 15px;
    top: 10px;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
  }

  .close:hover, .close:focus {
    color: black;
    text-decoration: none;
  }
</style>
<body>
<div layout:fragment="content">

  <!-- slider_area_start -->
  <div class="slider_area">
    <div class="single_slider  d-flex align-items-center slider_bg_1 overlay">
      <div class="container">
        <div class="row align-items-center justify-content-center">
          <div class="col-xl-12">
            <div class="slider_text text-center">
              <div class="shape_1 wow fadeInUp" data-wow-duration="1s" data-wow-delay=".2s">
                <img src="img/shape/shape_1.svg" alt="">
              </div>
              <div class="shape_2 wow fadeInDown" data-wow-duration="1s" data-wow-delay=".2s">
                <img src="img/shape/shape_2.svg" alt="">
              </div>
              <h3 class="wow fadeInLeft" data-wow-duration="1s" data-wow-delay=".4s">Eventcon</h3>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- slider_area_end -->

  <!-- event_area_start  -->
  <div class="performar_area black_bg">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="section_title mb-80">
            <h3 class="wow fadeInRight" data-wow-duration="1s" data-wow-delay=".3s">Event</h3>
          </div>
        </div>
      </div>
      <div class="row justify-content-center">
        <div class="col-lg-8">
          <div class="row">
            <div class="col-lg-6 col-md-6" th:each="event : ${events}">
              <div class="single_performer wow fadeInUp" data-wow-duration="1s" data-wow-delay=".3s">
                <a th:href="@{/registration/form/{id}(id=${event.id})}">
                <div data-tilt class="thumb">
                    <img th:src="@{${event.imageUrl}}" alt="Event Poster">
                  </div>
                </a>
                <div class="performer_heading">
                  <h4 th:text="${event.title}">Event Title</h4>
                  <span th:text="${#dates.format(event.date, 'dd MMMM yyyy')}">Event Date</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- event_area_end  -->

  <!-- about_area_start  -->
  <div class="about_area black_bg">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-8">
          <div class="section_title text-center mb-80">
            <h3 class="wow fadeInRight" data-wow-duration="1s" data-wow-delay=".3s" >About Program</h3>
            <p class="wow fadeInRight" data-wow-duration="1s" data-wow-delay=".4s" >Our mission is to connect people with meaningful experiences by making event registration simple, fast, and accessible. Browse a wide range of events—from health and fitness to education, entertainment, and social causes—all in one place.</p>
          </div>
        </div>
      </div>
      <div class="row align-items-center">
        <div class="col-lg-7 col-md-6">
          <div class="about_thumb">
            <div class="shap_3  wow fadeInLeft" data-wow-duration="1s" data-wow-delay=".4s">
              <img src="img/shape/shape_3.svg" alt="">
            </div>
            <div class="thumb_inner  wow fadeInUp" data-wow-duration="1s" data-wow-delay=".3s">
              <img src="img/about/about.png" alt="">
            </div>
          </div>
        </div>
        <div class="col-lg-5 col-md-6">
          <div class="about_info pl-68">
            <h4 class=" wow fadeInLeft" data-wow-duration="1s" data-wow-delay=".5s">Join an Event</h4>
            <p  class=" wow fadeInLeft" data-wow-duration="1s" data-wow-delay=".6s">Ready to be part of something exciting? Registering for an event is quick and easy. Join events. Make memories. Be part of something bigger.</p>
            <a th:href="@{/event-page}" class="boxed-btn3  wow fadeInLeft" data-wow-duration="1s" data-wow-delay=".7s">Join Now</a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- about_area_end  -->

  <!-- schedule_area_start -->
  <div class="program_details_area detials_bg_1 overlay2">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="section_title text-center mb-80 wow fadeInRight" data-wow-duration="1s" data-wow-delay=".3s">
            <h3>Event Schedule</h3>
          </div>
        </div>
      </div>
      <div class="row justify-content-center">
        <div class="col-lg-8">
          <div class="program_detail_wrap">
            <div class="single_propram" th:each="event : ${events}">
              <div class="inner_wrap">
                <div class="circle_img"></div>
                <div class="porgram_top">
                <span class="wow fadeInLeft" data-wow-duration="1s" data-wow-delay=".3s"
                      th:text="${#dates.format(event.date, 'dd MMMM yyyy')}">Event Date</span>
                  <h4 class="wow fadeInUp" data-wow-duration="1s" data-wow-delay=".4s"
                      th:text="${event.location}">Event Venue</h4>
                </div>
                <div class="thumb wow fadeInUp" data-wow-duration="1s" data-wow-delay=".5s">
                  <img th:src="@{${event.imageUrl}}" alt="Event Poster">
                </div>
                <h4 class="wow fadeInUp" data-wow-duration="1s" data-wow-delay=".6s"
                    th:text="${event.title}">Event Title</h4>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- schedule_area_end -->
</div>

<!-- Success Modal -->
<div id="successModal" class="modal" th:if="${success}">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <p th:text="${success}">Registration successful!</p>
  </div>
</div>

<script>
  function closeModal() {
    document.getElementById("successModal").style.display = "none";
  }

  // Optional: auto close after 3 seconds
  window.onload = function() {
    setTimeout(() => {
      const modal = document.getElementById("successModal");
      if(modal) modal.style.display = "none";
    }, 3000);
  };
</script>

</body>
</html>